{%extends 'all_gallerys/base.html'%}
{% block content %}
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
{{block.super}}
<div class="container-fluid">
<div class="text" id="container1">

</div>
<div class="text" id="container2">
<h4 id ="text"> My gallery<h4> 
<hr id="hr2"> 
<p id="text2">Art is beauty that lasts for just a moment. To me,<br>
      the essence of art is - an explosion<br>
 </p>
  <br>
</div>
<div class = "container-fluid" id="row3">
      <div class="row" id="row4">
            {% for gallery_item in gallery %}  
                  <div class="col-md-4">
                        <div class="card" id="card1">
                        <img src="{{gallery_item.image_upload.url}}" class="image-responsive" alt="Image" data-toggle="modal" data-target="#{{gallery_item.id}}" height="300px" width="300px">  
                        <p>This photo was taken in:{{gallery_item.location}}   </p>
                        </div>
                  </div>
                        <!-- Modal -->
                        <div class="modal fade" id="{{gallery_item.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                             <div class="modal-dialog" role="document">
                                   <div class="modal-content" id="modal">
                                    <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLongTitle">{{ gallery_item.title }}</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                    </button>
                                    </div>
                                    <div class="modal-body">
                                    <img src="{{gallery_item.image_upload.url}}" class="image-responsive" alt="Image"  height="700px" width="700px">
                                    </div>
                                    <div class="modal-footer">
                                    <h2 class="text-centre"> Title:{{ gallery_item.title }}</h2>
                                    <h2 class="text-centre"> Name:{{ gallery_item.image_name }}</h2>
                                    <hr>
                                    <div class="row">
                                          <div class="col-md-2">
                                    <form>
                                    <a onclick="copyLink({gallery_item,id})"><button type="button" class="btn btn-outline-dark my-2 my-sm-0 link-btn">{{gallery_item.image_upload.ur}}Copy the link</button></a>
                                    <input class="form-control" type="text" value="http://127.0.0.1:8000{{gallery_item.image_upload.url}}" id="thislinkhere-{{gallery_item.id}}">
                                    </a>
                                    </form>
                              </div>
                        </div>
                                    </div>

                              </div>
                              </div>
                        </div>
                        {% empty %}
                        <div class="row">
                        <h2 class="text-centre">There is No gallery item here </h2>
                        </div>
                  
            {% endfor %}
      </div>      
</div>
        <script>
            function copyLink(id) {
              /* Get the text field */
              var copyText = document.getElementById( "thislinkhere-" + id );
        
              /* Select the text field */
              copyText.select();
        
              /* Copy the text inside the text field */
              document.execCommand( "copy" );
        
              /* Alert the copied text */
              alert( "COPY THIS LINK AND SHARE!!: " + copyText.value );
            }
          </script>
                                                      
                                 
                              </div>
                            </div>
                        
                        </div>
                           
{% endblock %}